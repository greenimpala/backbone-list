<html>
<head>
	<title>Backbone AMD Bootstrap</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet/less" type="text/css" href="style/app.less">
    <script src="vendor/less/less.js" type="text/javascript"></script>
	<script data-main="js/bootstrap" src="vendor/require/require.js"></script>
</head>
<body>
    <div id="container"></div>
	<script type="text/javascript">
        localStorage.clear();

		require([
			"components/tree/model/Tree",
            "components/tree/model/File",
            "components/tree/model/Folder",
            "components/tree/view/TreeView"
		], function (Tree, File, Folder, TreeView) {
            var treeModel = new Tree();
            var treeView = new TreeView({ model: treeModel });

            treeModel.add(new File({ title: "some file" }));
            treeModel.add(new File({ title: "some file" }));

            var folder = new Folder({ title: "some folder" });
            folder.add(new File({ title: "some nested file" }));
            folder.add(new File({ title: "some nested file" }));
            treeModel.add(folder);

            treeModel.add(new File({ title: "some file" }));

            var nestedFolder = new Folder({ title: "some nested folder" });
            window.nestedFolder = nestedFolder;
            nestedFolder.add(new File({ title: "some super nested file" }));
            nestedFolder.add(new File({ title: "some super nested file" }));
            var superDuperNestedFolder = new Folder({ title: "some super nested file" });
            superDuperNestedFolder.add(new File({ title: "some super nested file" }));
            superDuperNestedFolder.add(new File({ title: "some super nested file" }));
            superDuperNestedFolder.add(new File({ title: "some super nested file" }));
            nestedFolder.add(superDuperNestedFolder);
            folder.add(nestedFolder);

            folder.add(new File({ title: "some nested file" }));

            var superNestedFolder = new Folder({ title: "some other folder" });
            superNestedFolder.add(new File({ title: "some other nested file" }));
            superNestedFolder.add(new Folder({ title: "some other nested folder" }));
            treeModel.add(superNestedFolder);

            $("#container").html(treeView.render().el);
		});
	</script>
</body>
</html>